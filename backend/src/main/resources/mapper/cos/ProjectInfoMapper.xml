<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cc.mrbird.febs.cos.dao.ProjectInfoMapper">

    <!-- 分页获取资助项目信息 -->
    <select id="queryProjectPage" resultType="java.util.LinkedHashMap">
        select
        id,
        project_name,
        project_type,
        publisher_user,
        publish_date,
        start_date,
        end_date,
        target_grade,
        amount_per_person,
        quota,
        status,
        policy_text
        from
        project_info
        where
        1=1
        <if test="queryParam.projectName != null and queryParam.projectName != ''">
            AND project_name LIKE CONCAT('%',#{queryParam.projectName},'%')
        </if>
        <if test="queryParam.projectType != null and queryParam.projectType != ''">
            AND project_type LIKE CONCAT('%',#{queryParam.projectType},'%')
        </if>
        <if test="queryParam.status != null and queryParam.status != ''">
            AND status = #{queryParam.status}
        </if>
        order by publish_date desc
    </select>
</mapper>
